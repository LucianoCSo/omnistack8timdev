{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\projetos\\\\react_node\\\\timdev\\\\omnistack8timdev\\\\timdev\\\\mobile\\\\pages\\\\login.js\";\nimport React, { useState, useEffect } from 'react';\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport api from \"../services/api\";\nimport Logo from \"../Img/logo.png\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useState(function () {\n    AsyncStorage.getItem('user').then(function (user) {\n      if (user) {\n        navigation.navigate('Main', _id);\n      }\n    });\n  });\n\n  function handleLoad() {\n    var response, _id;\n\n    return _regeneratorRuntime.async(function handleLoad$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(api.post('/devs', {\n              username: user\n            }));\n\n          case 2:\n            response = _context.sent;\n            _id = response.data._id;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('user', _id));\n\n          case 6:\n            navigation.navigate('Main', {\n              _id: _id\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    enabled: Platform.OS === 'ios',\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: Logo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    style: styles.text,\n    placeholderTextColor: \"#999\",\n    placeholder: \"Informe seu usu\\xE1rio do GitHub.\",\n    value: user,\n    onChangeText: setUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: handleLoad,\n    style: styles.buttton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.butttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"Entrar\")));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 30\n  },\n  text: {\n    height: 46,\n    alignSelf: 'stretch',\n    backgroundColor: '#fff',\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 4,\n    marginTop: 20,\n    paddingHorizontal: 15\n  },\n  buttton: {\n    height: 46,\n    alignSelf: 'stretch',\n    backgroundColor: '#DF4723',\n    borderRadius: 4,\n    marginTop: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  butttonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16\n  }\n});","map":{"version":3,"sources":["D:/projetos/react_node/timdev/omnistack8timdev/timdev/mobile/pages/login.js"],"names":["React","useState","useEffect","api","Logo","Login","navigation","user","setUser","AsyncStorage","getItem","then","navigate","_id","handleLoad","post","username","response","data","setItem","Platform","OS","styles","container","text","buttton","butttonText","StyleSheet","create","flex","backgroundColor","justifyContent","alignItems","padding","height","alignSelf","borderWidth","borderColor","borderRadius","marginTop","paddingHorizontal","color","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { AsyncStorage } from 'react-native'\r\nimport { KeyboardAvoidingView, Platform, StyleSheet, Image, TextInput, Text, TouchableOpacity } from 'react-native'\r\n\r\nimport api from '../services/api';\r\nimport Logo from '../Img/logo.png';\r\n\r\nexport default function Login({ navigation }){\r\n    const [user, setUser] = useState('');\r\n    \r\n    useState(() => {\r\n        AsyncStorage.getItem('user').then(user => {\r\n            if(user){\r\n                navigation.navigate('Main', _id);\r\n            }\r\n        })\r\n    })\r\n\r\n    async function handleLoad(){\r\n        const response = await api.post('/devs', { username: user });\r\n        const { _id } = response.data;\r\n       \r\n        await AsyncStorage.setItem('user', _id );\r\n        navigation.navigate('Main', { _id });\r\n    }\r\n\r\n    return (\r\n            <KeyboardAvoidingView\r\n                behavior=\"padding\"\r\n                enabled={Platform.OS === 'ios'}\r\n                style={styles.container}>\r\n\r\n                <Image source={Logo} />\r\n                <TextInput \r\n                    autoCapitalize=\"none\"\r\n                    autoCorrect={false}\r\n                    style={styles.text} \r\n                    placeholderTextColor=\"#999\"\r\n                    placeholder=\"Informe seu usuÃ¡rio do GitHub.\" \r\n                    value={user}\r\n                    onChangeText={setUser}\r\n                />\r\n                <TouchableOpacity onPress={ handleLoad } style={styles.buttton}>\r\n                    <Text style={styles.butttonText}>Entrar</Text>\r\n                </TouchableOpacity>\r\n            </KeyboardAvoidingView>\r\n        )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container:{\r\n        flex: 1,\r\n        backgroundColor: '#f5f5f5',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 30\r\n    },\r\n\r\n    text: {\r\n        height: 46,\r\n        alignSelf: 'stretch',\r\n        backgroundColor: '#fff',\r\n        borderWidth: 1,\r\n        borderColor: '#ddd',\r\n        borderRadius: 4,\r\n        marginTop: 20,\r\n        paddingHorizontal: 15,\r\n    },\r\n    buttton: {\r\n        height: 46,\r\n        alignSelf: 'stretch',\r\n        backgroundColor: '#DF4723',\r\n        borderRadius: 4,\r\n        marginTop: 10,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    butttonText: {\r\n        color: '#fff',\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n    },\r\n});"]},"metadata":{},"sourceType":"module"}